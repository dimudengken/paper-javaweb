<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.tlias.paper0_1.mapper.CreatorMapper">
    
    <!-- 定义Creator实体类与数据库字段的映射关系 -->
    <resultMap id="creatorMap" type="com.tlias.paper0_1.entity.Creator">
        <id column="user_id" property="user_id" />
        <result column="nickname" property="nickname" />
        <result column="sex" property="sex" />
        <result column="sign" property="sign" />
        <result column="avatar" property="avatar" />
        <result column="last_modify_ts" property="last_modify_ts" />
        <result column="total_fans" property="total_fans" />
        <result column="total_liked" property="total_liked" />
        <result column="user_rank" property="user_rank" />
        <result column="is_official" property="is_official" />
    </resultMap>


    <!-- 查询所有创作者信息 -->
    <select id="getAllCreators" resultMap="creatorMap">
        select user_id, nickname, sex, sign, avatar, last_modify_ts, total_fans, total_liked, user_rank, is_official 
        from merged_creators
    </select>
    
    <!-- 根据ID查询单个创作者信息 -->
    <select id="getCreatorById" parameterType="String" resultMap="creatorMap">
        select user_id, nickname, sex, sign, avatar, last_modify_ts, total_fans, total_liked, user_rank, is_official 
        from merged_creators 
        where user_id = #{id}
        limit 1
    </select>



</mapper>